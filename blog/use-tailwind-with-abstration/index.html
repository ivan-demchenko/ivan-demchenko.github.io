<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Use Tailwind as CSS abstraction in CSS modules | Ivan's blog</title><meta name=keywords content="front-end,architecture"><meta name=description content="Tailwind provides a solid base level, sort of a starting point for your application. The library is a set of utility CSS classes that use Custom CSS properties (a.k.a CSS variables). Some of these variables abstract away a default set of design tokens. As such, it is easy to create a dark theme (should a user prefer dark mode) or take some accessibility aspect into account (like reduced animations). I only described the tip of the iceberg."><meta name=author content><link rel=canonical href=https://raqystyle.github.io/blog/use-tailwind-with-abstration/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://raqystyle.github.io/static/icon.png><link rel=icon type=image/png sizes=16x16 href=https://raqystyle.github.io/static/icon16.png><link rel=icon type=image/png sizes=32x32 href=https://raqystyle.github.io/static/icon32.png><link rel=apple-touch-icon href=https://raqystyle.github.io/static/icon.png><link rel=mask-icon href=https://raqystyle.github.io/static/icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-VHCCQB5KTN"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VHCCQB5KTN")</script><meta property="og:title" content="Use Tailwind as CSS abstraction in CSS modules"><meta property="og:description" content="Tailwind provides a solid base level, sort of a starting point for your application. The library is a set of utility CSS classes that use Custom CSS properties (a.k.a CSS variables). Some of these variables abstract away a default set of design tokens. As such, it is easy to create a dark theme (should a user prefer dark mode) or take some accessibility aspect into account (like reduced animations). I only described the tip of the iceberg."><meta property="og:type" content="article"><meta property="og:url" content="https://raqystyle.github.io/blog/use-tailwind-with-abstration/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-02-26T00:00:00+00:00"><meta property="article:modified_time" content="2022-02-26T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Use Tailwind as CSS abstraction in CSS modules"><meta name=twitter:description content="Tailwind provides a solid base level, sort of a starting point for your application. The library is a set of utility CSS classes that use Custom CSS properties (a.k.a CSS variables). Some of these variables abstract away a default set of design tokens. As such, it is easy to create a dark theme (should a user prefer dark mode) or take some accessibility aspect into account (like reduced animations). I only described the tip of the iceberg."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://raqystyle.github.io/blog/"},{"@type":"ListItem","position":2,"name":"Use Tailwind as CSS abstraction in CSS modules","item":"https://raqystyle.github.io/blog/use-tailwind-with-abstration/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Use Tailwind as CSS abstraction in CSS modules","name":"Use Tailwind as CSS abstraction in CSS modules","description":"Tailwind provides a solid base level, sort of a starting point for your application. The library is a set of utility CSS classes that use Custom CSS properties (a.k.a CSS variables). Some of these variables abstract away a default set of design tokens. As such, it is easy to create a dark theme (should a user prefer dark mode) or take some accessibility aspect into account (like reduced animations). I only described the tip of the iceberg.","keywords":["front-end","architecture"],"articleBody":"Tailwind provides a solid base level, sort of a starting point for your application. The library is a set of utility CSS classes that use Custom CSS properties (a.k.a CSS variables). Some of these variables abstract away a default set of design tokens. As such, it is easy to create a dark theme (should a user prefer dark mode) or take some accessibility aspect into account (like reduced animations). I only described the tip of the iceberg. There is a whole ecosystem to support your developer experience.\nTailwind’s approach makes it easy to build UI elements and compose them together. Yet, it does not dictate any UI patterns or solutions to UX problems.\nHowever, when utilised naively, the utility-first approach has one downside: a long list of classes in DOM elements. Though, there are two simple solutions:\nuse @apply directive; create abstractions on top of the HTML elements. The point is: a combination of utility classes may represent different things in different contexts. Tailwind is an abstraction layer on top of CSS. However, it is also rather low-lever from the perspective of UI elements. Therefore, we can give distinct names for such collections and use those abstractions instead.\nAs I mentioned above, we can create abstractions on top of the HTML elements:\nconst MyButton = ({ children }) =\u003e { return ( \u003cbutton className=\"dark:bg-gray-900 bg-gray-100 m-2 py-2 px-6 rounded-full uppercase \"\u003e {children} \u003c/button\u003e ); }; This approach, however, has its limitations:\nWe might need to swap classes, and it can quickly get cumbersome Every abstraction adds a layer to the component tree There is another popular mechanism to style UI elements - CSS modules. But to make it comparable to Tailwind (in terms of flexibility and speed) one needs to invest quite some time. Besides, what is the point of re-inventing an existing library?\nHowever, we could combine the two approaches. This way, we could get the best from both worlds: class names representing higher-level entities based on the pre-defined system of design tokens abstracted away by an extensive collection of utility classes.\nI used this approach to style this website. In my opinion, the separation of concerns gets even cleaner this way. Let me demonstrate.\nHere is the TypeScript code of the PostTag component:\nimport * as React from \"react\"; import { Link } from \"gatsby\"; import * as PostTagCSS from \"./PostTag.module.css\"; export type PostTagProps = { tag: string, }; export const PostTag: React.FC\u003cPostTagProps\u003e = ({ tag }) =\u003e { return ( \u003cLink className={PostTagCSS.tag} to={`/tag/${tag}`}\u003e {tag} \u003c/Link\u003e ); }; And this is the CSS module for this component:\n.tag { @apply dark:bg-gray-900 bg-gray-100 m-2 py-2 px-6 rounded-full uppercase font-bold text-sm tracking-wide; } Having this in mind, we can come up with a neat mental model for all the layers:\nUI entities ---------- ^ ----------- CSS modules ---------- ^ ----------- Tailwind: CSS classes and abstractions ---------- ^ ----------- CSS | Raw values ------------------------ ","wordCount":"483","inLanguage":"en","datePublished":"2022-02-26T00:00:00Z","dateModified":"2022-02-26T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://raqystyle.github.io/blog/use-tailwind-with-abstration/"},"publisher":{"@type":"Organization","name":"Ivan's blog","logo":{"@type":"ImageObject","url":"https://raqystyle.github.io/static/icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://raqystyle.github.io/ accesskey=h title="Ivan's blog (Alt + H)">Ivan's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://raqystyle.github.io/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://raqystyle.github.io/about/ title=About><span>About</span></a></li><li><a href=https://raqystyle.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://raqystyle.github.io/bookmarks/ title=Bookmarks><span>Bookmarks</span></a></li><li><a href=https://raqystyle.github.io/cv/ title=CV><span>CV</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Use Tailwind as CSS abstraction in CSS modules</h1><div class=post-meta><span title='2022-02-26 00:00:00 +0000 UTC'>February 26, 2022</span>&nbsp;·&nbsp;3 min&nbsp;|&nbsp;<a href=https://github.com/raqystyle/raqystyle.github.io/content/blog/use-tailwind-with-abstration.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Tailwind provides a solid base level, sort of a starting point for your application. The library is a set of utility CSS classes that use <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/--*>Custom CSS properties</a> (a.k.a CSS variables). Some of these variables abstract away a default set of design tokens. As such, it is easy to create a dark theme (should a user prefer dark mode) or take some accessibility aspect into account (like reduced animations). I only described the tip of the iceberg. There is a whole ecosystem to support your developer experience.</p><p>Tailwind&rsquo;s approach makes it easy to build UI elements and compose them together. Yet, it does not dictate any UI patterns or solutions to UX problems.</p><p>However, when utilised naively, the utility-first approach has one downside: a long list of classes in DOM elements. Though, there are two simple solutions:</p><ul><li>use <code>@apply</code> directive;</li><li>create abstractions on top of the HTML elements.</li></ul><p>The point is: a combination of utility classes may represent different things in different contexts. Tailwind is an abstraction layer on top of CSS. However, it is also rather low-lever from the perspective of UI elements. Therefore, we can give distinct names for such collections and use those abstractions instead.</p><p>As I mentioned above, we can create abstractions on top of the HTML elements:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>MyButton</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>children</span> }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;dark:bg-gray-900 bg-gray-100 m-2 py-2 px-6 rounded-full uppercase &#34;</span>&gt;
</span></span><span style=display:flex><span>      {<span style=color:#a6e22e>children</span>}
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>This approach, however, has its limitations:</p><ul><li>We might need to swap classes, and it can quickly get cumbersome</li><li>Every abstraction adds a layer to the component tree</li></ul><p>There is another popular mechanism to style UI elements - CSS modules. But to make it comparable to Tailwind (in terms of flexibility and speed) one needs to invest quite some time. Besides, what is the point of re-inventing an existing library?</p><p>However, we could combine the two approaches. This way, we could get the best from both worlds: class names representing higher-level entities based on the pre-defined system of design tokens abstracted away by an extensive collection of utility classes.</p><p>I used this approach to style this website. In my opinion, the separation of concerns gets even cleaner this way. Let me demonstrate.</p><p>Here is the TypeScript code of the PostTag component:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Link</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;gatsby&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>PostTagCSS</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./PostTag.module.css&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#a6e22e>type</span> <span style=color:#a6e22e>PostTagProps</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tag</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span>,
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>PostTag</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>FC</span>&lt;<span style=color:#f92672>PostTagProps</span>&gt; <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>tag</span> }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Link</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>PostTagCSS</span>.<span style=color:#a6e22e>tag</span>} <span style=color:#a6e22e>to</span><span style=color:#f92672>=</span>{<span style=color:#e6db74>`/tag/</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>tag</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>}&gt;
</span></span><span style=display:flex><span>      {<span style=color:#a6e22e>tag</span>}
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Link</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>And this is the CSS module for this component:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>tag</span> {
</span></span><span style=display:flex><span>  <span style=color:#960050;background-color:#1e0010>@apply</span> dark:bg-gray-900 bg-gray-100 m-2 py-2 px-6 rounded-full <span style=color:#66d9ef>uppercase</span> <span style=color:#66d9ef>font</span><span style=color:#f92672>-</span><span style=color:#66d9ef>bold</span> <span style=color:#66d9ef>text</span><span style=color:#f92672>-</span>sm tracking-wide;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Having this in mind, we can come up with a neat mental model for all the layers:</p><pre tabindex=0><code>      UI entities
---------- ^ -----------
      CSS modules
---------- ^ -----------
 Tailwind: CSS classes
    and abstractions
---------- ^ -----------
   CSS   |  Raw values
------------------------
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://raqystyle.github.io/tags/front-end/>front-end</a></li><li><a href=https://raqystyle.github.io/tags/architecture/>architecture</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://raqystyle.github.io/>Ivan's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script type=text/javascript>var sc_project=12781072,sc_invisible=1,sc_security="4d31877b"</script><script type=text/javascript src=https://www.statcounter.com/counter/counter.js async></script><noscript><div class=statcounter><a title="Web Analytics" href=https://statcounter.com/ target=_blank><img class=statcounter src=https://c.statcounter.com/12781072/0/4d31877b/1/ alt="Web Analytics" referrerpolicy=no-referrer-when-downgrade></a></div></noscript><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>