<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>One more way to implement a carousel | Ivan's blog</title><meta name=keywords content="front-end"><meta name=description content="There are lots of implementations of it: jQuery based, vanilla-js based, heavy and lightweight. Some even claim that their solution is the only one you might ever need. However, there will always be a situation when the existing solution simply doesn’t work.
Here, at AutoScout24 we just had such situation and we decided to implement our own Carousel. We called it showcar-carousel. Please, do not hesitate to check the code out on GitHub repo for showcar-carousel."><meta name=author content><link rel=canonical href=https://ivan-demchenko.github.io/blog/one-more-way-to-implement-a-carousel/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://ivan-demchenko.github.io/static/icon.png><link rel=icon type=image/png sizes=16x16 href=https://ivan-demchenko.github.io/static/icon16.png><link rel=icon type=image/png sizes=32x32 href=https://ivan-demchenko.github.io/static/icon32.png><link rel=apple-touch-icon href=https://ivan-demchenko.github.io/static/icon.png><link rel=mask-icon href=https://ivan-demchenko.github.io/static/icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-VHCCQB5KTN"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VHCCQB5KTN")</script><meta property="og:title" content="One more way to implement a carousel"><meta property="og:description" content="There are lots of implementations of it: jQuery based, vanilla-js based, heavy and lightweight. Some even claim that their solution is the only one you might ever need. However, there will always be a situation when the existing solution simply doesn’t work.
Here, at AutoScout24 we just had such situation and we decided to implement our own Carousel. We called it showcar-carousel. Please, do not hesitate to check the code out on GitHub repo for showcar-carousel."><meta property="og:type" content="article"><meta property="og:url" content="https://ivan-demchenko.github.io/blog/one-more-way-to-implement-a-carousel/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2016-08-30T00:00:00+00:00"><meta property="article:modified_time" content="2016-08-30T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="One more way to implement a carousel"><meta name=twitter:description content="There are lots of implementations of it: jQuery based, vanilla-js based, heavy and lightweight. Some even claim that their solution is the only one you might ever need. However, there will always be a situation when the existing solution simply doesn’t work.
Here, at AutoScout24 we just had such situation and we decided to implement our own Carousel. We called it showcar-carousel. Please, do not hesitate to check the code out on GitHub repo for showcar-carousel."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://ivan-demchenko.github.io/blog/"},{"@type":"ListItem","position":2,"name":"One more way to implement a carousel","item":"https://ivan-demchenko.github.io/blog/one-more-way-to-implement-a-carousel/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"One more way to implement a carousel","name":"One more way to implement a carousel","description":"There are lots of implementations of it: jQuery based, vanilla-js based, heavy and lightweight. Some even claim that their solution is the only one you might ever need. However, there will always be a situation when the existing solution simply doesn’t work.\nHere, at AutoScout24 we just had such situation and we decided to implement our own Carousel. We called it showcar-carousel. Please, do not hesitate to check the code out on GitHub repo for showcar-carousel.","keywords":["front-end"],"articleBody":"There are lots of implementations of it: jQuery based, vanilla-js based, heavy and lightweight. Some even claim that their solution is the only one you might ever need. However, there will always be a situation when the existing solution simply doesn’t work.\nHere, at AutoScout24 we just had such situation and we decided to implement our own Carousel. We called it showcar-carousel. Please, do not hesitate to check the code out on GitHub repo for showcar-carousel.\nOur carousel should work in two modes: the one that moves a bunch of items left and right and the one that rotates the slides infinitely showing one at a time. The last one is particularly interesting because of the word infinitely.\nFirst, we explored all the existing carousels one can find out there. They all work really nice. However, our key requirement is that we have to be able to show an ad on the last slide or remove it if the ad has not been loaded. Thus, we cannot duplicate dom elements. Otherwise, ads will be loaded twice. Besides, we didn’t want to mutate the DOM at all.\nWe are among those lucky guys who decided that the Flexbox is the right choice for us. One of the most interesting abilities of Flexbox is to change the visual order of the elements without changing the order of the DOM elements. Thus, we can simply swap two images! I mean, you have two slides at a time in your container. That’s enough for amination. And when the animation is finished, you just swap the previous slide with the next one behind the scene.\nI prepared a few pictures to demonstrate how it works. First we begin with the initial state:\nThe blue area is our viewport, what the user sees. The green block is the flex container that holds the items. And the yellow ones are the slides. As you can see we have two slides in the container at a time. When the user navigates to the next slide we have enough slides for a smooth transition. We then just translate the green div. So, it looks like this:\nAnd now we use the magic of the flexbox order property. We have to do two things at the same time:\nReorder items Move the green div back without transition What I mean by reordering is easier to demonstrate with JavaScript arrays:\nbefore: [0, 1, 2, 3, 4] after: [4, 0, 1, 2, 3] Thus, our first image becomes the last one and the second image become the fist one and so on. After reordering and jumping back, the situation looks like this:\nAnd we’re ready to go to the next slide again.\nOkay, what about going backwards? Well, it is simple. You just have to do things in the reversed order:\nreorder jump transition As simple as that.\nThe carousel is quite specific for AutoScout24 needs and it is work in progress. Despite that, everybody is welcome to use and contribute!\n","wordCount":"499","inLanguage":"en","datePublished":"2016-08-30T00:00:00Z","dateModified":"2016-08-30T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://ivan-demchenko.github.io/blog/one-more-way-to-implement-a-carousel/"},"publisher":{"@type":"Organization","name":"Ivan's blog","logo":{"@type":"ImageObject","url":"https://ivan-demchenko.github.io/static/icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ivan-demchenko.github.io/ accesskey=h title="Ivan's blog (Alt + H)">Ivan's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ivan-demchenko.github.io/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://ivan-demchenko.github.io/about/ title=About><span>About</span></a></li><li><a href=https://ivan-demchenko.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://ivan-demchenko.github.io/bookmarks/ title=Bookmarks><span>Bookmarks</span></a></li><li><a href=https://ivan-demchenko.github.io/cv/ title=CV><span>CV</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>One more way to implement a carousel</h1><div class=post-meta><span title='2016-08-30 00:00:00 +0000 UTC'>August 30, 2016</span>&nbsp;·&nbsp;3 min&nbsp;|&nbsp;<a href=https://github.com/ivan-demchenko/ivan-demchenko.github.io/blog/2016-08-30-one-more-way-to-implement-a-carousel/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>There are lots of implementations of it: jQuery based, vanilla-js based, heavy and lightweight. Some even claim that their solution is the only one you might ever need. However, there will always be a situation when the existing solution simply doesn’t work.</p><p>Here, at <a href=https://www.autoscout24.de/>AutoScout24</a> we just had such situation and we decided to implement our own Carousel. We called it <code>showcar-carousel</code>. Please, do not hesitate to check the code out on <a href=https://github.com/AutoScout24/showcar-carousel>GitHub repo for showcar-carousel</a>.</p><p>Our carousel should work in two modes: the one that moves a bunch of items left and right and the one that rotates the slides infinitely showing one at a time. The last one is particularly interesting because of the word <strong>infinitely</strong>.</p><p>First, we explored all the existing carousels one can find out there. They all work really nice. However, our key requirement is that we have to be able to show an ad on the last slide or remove it if the ad has not been loaded. Thus, we cannot duplicate dom elements. Otherwise, ads will be loaded twice. Besides, we didn’t want to mutate the DOM at all.</p><p>We are among those lucky guys who decided that the Flexbox is the right choice for us. One of the most interesting abilities of Flexbox is to change the visual order of the elements without changing the order of the DOM elements. Thus, we can simply swap two images! I mean, you have two slides at a time in your container. That’s enough for amination. And when the animation is finished, you just swap the previous slide with the next one behind the scene.</p><p>I prepared a few pictures to demonstrate how it works. First we begin with the initial state:</p><p><img loading=lazy src=./1.1.png alt="Initial state of the carousel"></p><p>The blue area is our viewport, what the user sees. The green block is the flex container that holds the items. And the yellow ones are the slides. As you can see we have two slides in the container at a time. When the user navigates to the next slide we have enough slides for a smooth transition. We then just <code>translate</code> the green div. So, it looks like this:</p><p><img loading=lazy src=./1.2.png alt="The second slide eases in in the viewport"></p><p>And now we use the magic of the flexbox <code>order</code> property. We have to do two things at the same time:</p><ul><li>Reorder items</li><li>Move the green div back without transition</li></ul><p>What I mean by reordering is easier to demonstrate with JavaScript arrays:</p><ul><li>before: <code>[0, 1, 2, 3, 4]</code></li><li>after: <code>[4, 0, 1, 2, 3]</code></li></ul><p>Thus, our first image becomes the last one and the second image become the fist one and so on. After reordering and jumping back, the situation looks like this:</p><p><img loading=lazy src=./1.3.png alt="The state of the carousel after all the transitions"></p><p>And we’re ready to go to the next slide again.</p><p>Okay, what about going backwards? Well, it is simple. You just have to do things in the reversed order:</p><ul><li>reorder</li><li>jump</li><li>transition</li></ul><p>As simple as that.</p><p>The carousel is quite specific for AutoScout24 needs and it is work in progress. Despite that, everybody is welcome to use and contribute!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ivan-demchenko.github.io/tags/front-end/>front-end</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://ivan-demchenko.github.io/>Ivan's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script type=text/javascript>var sc_project=12781072,sc_invisible=1,sc_security="4d31877b"</script><script type=text/javascript src=https://www.statcounter.com/counter/counter.js async></script><noscript><div class=statcounter><a title="Web Analytics" href=https://statcounter.com/ target=_blank><img class=statcounter src=https://c.statcounter.com/12781072/0/4d31877b/1/ alt="Web Analytics" referrerpolicy=no-referrer-when-downgrade></a></div></noscript><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>