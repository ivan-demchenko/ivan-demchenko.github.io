<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>The Freedom of Web Components or Why UI Libraries Should Embrace Framework-Agnostic Solutions | Ivan's blog</title><meta name=keywords content="Front-end,Design system,UI library"><meta name=description content="In the ever-evolving landscape of web development, the choice of tools and technologies can have a profound impact on the flexibility, scalability, and longevity of a code base. One critical decision that developers often face is whether to use a framework or embrace more framework-agnostic solutions like Web Components when building a UI library. In this post, we&rsquo;ll explore why opting for Web Components can offer unparalleled advantages when it comes to ensuring flexibility and avoiding lock-in."><meta name=author content><link rel=canonical href=https://ivan-demchenko.github.io/blog/web-components-for-ui-lib/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://ivan-demchenko.github.io/static/icon.png><link rel=icon type=image/png sizes=16x16 href=https://ivan-demchenko.github.io/static/icon16.png><link rel=icon type=image/png sizes=32x32 href=https://ivan-demchenko.github.io/static/icon32.png><link rel=apple-touch-icon href=https://ivan-demchenko.github.io/static/icon.png><link rel=mask-icon href=https://ivan-demchenko.github.io/static/icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-VHCCQB5KTN"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VHCCQB5KTN")</script><meta property="og:title" content="The Freedom of Web Components or Why UI Libraries Should Embrace Framework-Agnostic Solutions"><meta property="og:description" content="In the ever-evolving landscape of web development, the choice of tools and technologies can have a profound impact on the flexibility, scalability, and longevity of a code base. One critical decision that developers often face is whether to use a framework or embrace more framework-agnostic solutions like Web Components when building a UI library. In this post, we&rsquo;ll explore why opting for Web Components can offer unparalleled advantages when it comes to ensuring flexibility and avoiding lock-in."><meta property="og:type" content="article"><meta property="og:url" content="https://ivan-demchenko.github.io/blog/web-components-for-ui-lib/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-09-05T00:00:00+00:00"><meta property="article:modified_time" content="2023-09-05T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="The Freedom of Web Components or Why UI Libraries Should Embrace Framework-Agnostic Solutions"><meta name=twitter:description content="In the ever-evolving landscape of web development, the choice of tools and technologies can have a profound impact on the flexibility, scalability, and longevity of a code base. One critical decision that developers often face is whether to use a framework or embrace more framework-agnostic solutions like Web Components when building a UI library. In this post, we&rsquo;ll explore why opting for Web Components can offer unparalleled advantages when it comes to ensuring flexibility and avoiding lock-in."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://ivan-demchenko.github.io/blog/"},{"@type":"ListItem","position":2,"name":"The Freedom of Web Components or Why UI Libraries Should Embrace Framework-Agnostic Solutions","item":"https://ivan-demchenko.github.io/blog/web-components-for-ui-lib/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Freedom of Web Components or Why UI Libraries Should Embrace Framework-Agnostic Solutions","name":"The Freedom of Web Components or Why UI Libraries Should Embrace Framework-Agnostic Solutions","description":"In the ever-evolving landscape of web development, the choice of tools and technologies can have a profound impact on the flexibility, scalability, and longevity of a code base. One critical decision that developers often face is whether to use a framework or embrace more framework-agnostic solutions like Web Components when building a UI library. In this post, we\u0026rsquo;ll explore why opting for Web Components can offer unparalleled advantages when it comes to ensuring flexibility and avoiding lock-in.","keywords":["Front-end","Design system","UI library"],"articleBody":"In the ever-evolving landscape of web development, the choice of tools and technologies can have a profound impact on the flexibility, scalability, and longevity of a code base. One critical decision that developers often face is whether to use a framework or embrace more framework-agnostic solutions like Web Components when building a UI library. In this post, we’ll explore why opting for Web Components can offer unparalleled advantages when it comes to ensuring flexibility and avoiding lock-in.\nThe Shared Front-End Architecture Challenge As we know, design systems and UI libraries are an essential part of any modern SaaS business. UI libraries provide a consistent and reusable set of components, styles and functionality that can significantly speed development, improve accessibility and testability, and maintain consistency across an application. However, there’s a catch - choosing a particular framework to implement the UI library can undermine the entire implementation effort.\nWhen a UI library is tightly coupled to a particular framework, it forces the entire project to adopt that framework as well. Can you imagine a performant application built with Angular that uses a UI library written in React? It is hard to remove the dependency on a framework, especially if the project evolves or you want to change frameworks in the future. There is the risk of having to rewrite the entire UI library if the company decides to use a different framework or even a language (like Elm or Rust).\nEnter Web Components: The Framework-Agnostic Solution Web Components offer a different approach. As a set of web platform APIs, they allow you to create custom, reusable components that are not tied to a particular framework. These components encapsulate their HTML, CSS, and JavaScript, making them self-contained and portable.\nHere are some reasons why Web Components are a good choise for UI libraries:\n1. Freedom of Choice With Web Components, you’re no longer bound by the constraints of a specific framework. You can (almost) seamlessly integrate your UI library into projects built with various frameworks or even with vanilla JavaScript. This freedom of choice empowers developers to select the best technology stack for their project’s specific needs, rather than being forced into a single framework.\n2. Future-Proofing The web development ecosystem is dynamic, with new frameworks and tools emerging regularly. In addition, there is always the risk that the framework authors will change their strategy and release a new version with an incompatible API. By adopting Web Components, you future-proof your UI library. It remains relevant and adaptable, regardless of which framework becomes the next big thing. This reduces the risk of tech debt and the need for costly rewrites.\n3. Community and Ecosystem Web Components are a web standard supported by all major browsers. They have a growing and vibrant community, resulting in a rich ecosystem of ready-made components and tools. Leveraging this ecosystem can significantly speed up development and reduce the need to reinvent the wheel.\nBringing Web components into an existing app Web components follow the imperative, object-oriented and event-based paradigms. The custom elements extend existing element classes to provide new functionality.\nclass WordCount extends HTMLParagraphElement { constructor() { super(); // Element functionality written in here } action() { this.dispatchEvent(new Event('...')); } attributeChangedCallback(name, oldValue, newValue) { if (name === 'disabled') { // handle when the disabled attribute has changed } } } On the other hand, modern frameworks such as React often follow the declarative, functional paradigm.\n// State -\u003e JSX function MyComponent(props) { // render the state passed via `props` } To make them work together, a thin adapter layer is required. As an example, the VSCode team provides a UI toolkit that is based on custom elements and adapters for different frameworks implemented with the FAST.\nNot without drawbacks As mentioned in the articles linked below, Web components have certain drawbacks, most notably in the areas of SSR and accessibility. Some frameworks offer a solution to the SSR problem. Accessibility issues will soon be addressed at a specification level and can currently be avoided during component design.\nConclusion For me, it all comes down to either starting simple and fixing problems as they arise, or embracing accidental complexity right from the start, but being totally flexible. So I think it’s better to stick to the platform as much as possible and write a fix down the road, rather than start with wristling the front-end ecosystem. So I am in favour of using Web Component in the UI libraries as much as possible.\nOverall, I think the companies need to invest in simplification, finding new ways to simplify the stack and reduce the number of dependencies. Leaner processes and products are easier to develop and evolve, which is a real competitive advantage.\nUseful links Articles:\nIntroduction to web components on webcomponents.org Use web components for what they’re good at If Web Components are so great, why am I not using them? Making Web Components reactive MDN: Using custom elements Libraries and frameworks:\nFAST collection Lit StencilJS Hybrids Rocket Enhance ","wordCount":"831","inLanguage":"en","datePublished":"2023-09-05T00:00:00Z","dateModified":"2023-09-05T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://ivan-demchenko.github.io/blog/web-components-for-ui-lib/"},"publisher":{"@type":"Organization","name":"Ivan's blog","logo":{"@type":"ImageObject","url":"https://ivan-demchenko.github.io/static/icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ivan-demchenko.github.io/ accesskey=h title="Ivan's blog (Alt + H)">Ivan's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ivan-demchenko.github.io/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://ivan-demchenko.github.io/about/ title=About><span>About</span></a></li><li><a href=https://ivan-demchenko.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://ivan-demchenko.github.io/bookmarks/ title=Bookmarks><span>Bookmarks</span></a></li><li><a href=https://ivan-demchenko.github.io/cv/ title=CV><span>CV</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>The Freedom of Web Components or Why UI Libraries Should Embrace Framework-Agnostic Solutions</h1><div class=post-meta><span title='2023-09-05 00:00:00 +0000 UTC'>September 5, 2023</span>&nbsp;·&nbsp;4 min&nbsp;|&nbsp;<a href=https://github.com/ivan-demchenko/ivan-demchenko.github.io/blog/web-components-for-ui-lib.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>In the ever-evolving landscape of web development, the choice of tools and technologies can have a profound impact on the flexibility, scalability, and longevity of a code base. One critical decision that developers often face is whether to use a framework or embrace more framework-agnostic solutions like Web Components when building a UI library. In this post, we&rsquo;ll explore why opting for Web Components can offer unparalleled advantages when it comes to ensuring flexibility and avoiding lock-in.</p><h2 id=the-shared-front-end-architecture-challenge>The Shared Front-End Architecture Challenge<a hidden class=anchor aria-hidden=true href=#the-shared-front-end-architecture-challenge>#</a></h2><p>As we know, design systems and UI libraries are an essential part of any modern SaaS business. UI libraries provide a consistent and reusable set of components, styles and functionality that can significantly speed development, improve accessibility and testability, and maintain consistency across an application. However, there&rsquo;s a catch - choosing a particular framework to implement the UI library can undermine the entire implementation effort.</p><p>When a UI library is tightly coupled to a particular framework, it forces the entire project to adopt that framework as well. Can you imagine a performant application built with Angular that uses a UI library written in React? It is hard to remove the dependency on a framework, especially if the project evolves or you want to change frameworks in the future. There is the risk of having to rewrite the entire UI library if the company decides to use a different framework or even a language (like Elm or Rust).</p><h2 id=enter-web-components-the-framework-agnostic-solution>Enter Web Components: The Framework-Agnostic Solution<a hidden class=anchor aria-hidden=true href=#enter-web-components-the-framework-agnostic-solution>#</a></h2><p>Web Components offer a different approach. As a set of web platform APIs, they allow you to create custom, reusable components that are not tied to a particular framework. These components encapsulate their HTML, CSS, and JavaScript, making them self-contained and portable.</p><p>Here are some reasons why Web Components are a good choise for UI libraries:</p><h3 id=1-freedom-of-choice>1. Freedom of Choice<a hidden class=anchor aria-hidden=true href=#1-freedom-of-choice>#</a></h3><p>With Web Components, you&rsquo;re no longer bound by the constraints of a specific framework. You can (almost) seamlessly integrate your UI library into projects built with various frameworks or even with vanilla JavaScript. This freedom of choice empowers developers to select the best technology stack for their project&rsquo;s specific needs, rather than being forced into a single framework.</p><h3 id=2-future-proofing>2. Future-Proofing<a hidden class=anchor aria-hidden=true href=#2-future-proofing>#</a></h3><p>The web development ecosystem is dynamic, with new frameworks and tools emerging regularly. In addition, there is always the risk that the framework authors will change their strategy and release a new version with an incompatible API. By adopting Web Components, you future-proof your UI library. It remains relevant and adaptable, regardless of which framework becomes the next big thing. This reduces the risk of tech debt and the need for costly rewrites.</p><h3 id=3-community-and-ecosystem>3. Community and Ecosystem<a hidden class=anchor aria-hidden=true href=#3-community-and-ecosystem>#</a></h3><p>Web Components are a web standard supported by all major browsers. They have a growing and vibrant community, resulting in a rich ecosystem of ready-made components and tools. Leveraging this ecosystem can significantly speed up development and reduce the need to reinvent the wheel.</p><h2 id=bringing-web-components-into-an-existing-app>Bringing Web components into an existing app<a hidden class=anchor aria-hidden=true href=#bringing-web-components-into-an-existing-app>#</a></h2><p>Web components follow the imperative, object-oriented and event-based paradigms. The custom elements extend existing element classes to provide new functionality.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>WordCount</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>HTMLParagraphElement</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>super</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Element functionality written in here
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>action</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dispatchEvent</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Event</span>(<span style=color:#e6db74>&#39;...&#39;</span>));
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>attributeChangedCallback</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>oldValue</span>, <span style=color:#a6e22e>newValue</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>name</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;disabled&#39;</span>) {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// handle when the disabled attribute has changed
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>On the other hand, modern frameworks such as React often follow the declarative, functional paradigm.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// State -&gt; JSX
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>MyComponent</span>(<span style=color:#a6e22e>props</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// render the state passed via `props`
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>To make them work together, a thin adapter layer is required. As an example, the VSCode team provides a <a href=https://github.com/microsoft/vscode-webview-ui-toolkit>UI toolkit</a> that is based on custom elements and adapters for different frameworks implemented with the <a href=https://github.com/Microsoft/fast>FAST</a>.</p><h2 id=not-without-drawbacks>Not without drawbacks<a hidden class=anchor aria-hidden=true href=#not-without-drawbacks>#</a></h2><p>As mentioned in the articles linked below, Web components have certain drawbacks, most notably in the areas of SSR and accessibility. Some frameworks offer a solution to the SSR problem. Accessibility issues will soon be addressed at a specification level and can currently be avoided during component design.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>For me, it all comes down to either starting simple and fixing problems as they arise, or embracing accidental complexity right from the start, but being totally flexible. So I think it&rsquo;s better to stick to the platform as much as possible and write a fix down the road, rather than start with wristling the front-end ecosystem. So I am in favour of using Web Component in the UI libraries as much as possible.</p><p>Overall, I think the companies need to invest in simplification, finding new ways to simplify the stack and reduce the number of dependencies. Leaner processes and products are easier to develop and evolve, which is a real competitive advantage.</p><h3 id=useful-links>Useful links<a hidden class=anchor aria-hidden=true href=#useful-links>#</a></h3><p>Articles:</p><ul><li><a href=https://www.webcomponents.org/introduction>Introduction to web components on webcomponents.org</a></li><li><a href=https://nolanlawson.com/2023/08/23/use-web-components-for-what-theyre-good-at/>Use web components for what they’re good at</a></li><li><a href=https://daverupert.com/2023/07/why-not-webcomponents/>If Web Components are so great, why am I not using them?</a></li><li><a href=https://www.horuskol.net/blog/2022-04-12/making-web-components-reactive/>Making Web Components reactive</a></li><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements>MDN: Using custom elements</a></li></ul><p>Libraries and frameworks:</p><ul><li><a href=https://github.com/Microsoft/fast>FAST collection</a></li><li><a href=https://lit.dev/>Lit</a></li><li><a href=https://stenciljs.com/>StencilJS</a></li><li><a href=https://hybrids.js.org/>Hybrids</a></li><li><a href=https://rocket.modern-web.dev/>Rocket</a></li><li><a href=https://enhance.dev/>Enhance</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://ivan-demchenko.github.io/tags/front-end/>front-end</a></li><li><a href=https://ivan-demchenko.github.io/tags/design-system/>design system</a></li><li><a href=https://ivan-demchenko.github.io/tags/ui-library/>UI library</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://ivan-demchenko.github.io/>Ivan's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script type=text/javascript>var sc_project=12781072,sc_invisible=1,sc_security="4d31877b"</script><script type=text/javascript src=https://www.statcounter.com/counter/counter.js async></script><noscript><div class=statcounter><a title="Web Analytics" href=https://statcounter.com/ target=_blank><img class=statcounter src=https://c.statcounter.com/12781072/0/4d31877b/1/ alt="Web Analytics" referrerpolicy=no-referrer-when-downgrade></a></div></noscript><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>